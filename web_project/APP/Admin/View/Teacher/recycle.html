<div class="admin">
    <form method="post">
        <div class="panel admin-panel">
            <div class="panel-head"><strong>Content list</strong></div>
            <div class="padding border-bottom">
                <input type="button" class="button button-small checkall" name="checkall" checkfor="id" value="selectall" />
                <input type="button" class="button button-small border-yellow dialogs" value="bulkrestore" name="recoverallbtn" href="#" data-toggle="click" data-target="#recoversdialog" data-mask="1" data-width="30%" />
                <input type="button" class="button button-small border-blue dialogs" value="bulkclear" name="clearallbtn" href="#" data-toggle="click" data-target="#clearsdialog" data-mask="1" data-width="30%" />
                <div id="recoversdialog">
                    <div class="dialog">
                        <div class="dialog-head">
                            <span class="close rotate-hover"></span>
                            <strong>User batch recovery</strong>
                        </div>
                        <div class="dialog-body">
                            <p>Are you sure you want to restore to select users?</p>

                            <input type="button" class="button bg-main" value="restoreall" onclick="javascript:recoverall();" />
                        </div>
                    </div>
                </div>
                <div id="clearsdialog">
                    <div class="dialog">
                        <div class="dialog-head">
                            <span class="close rotate-hover"></span>
                            <strong>User batch clearing</strong>
                        </div>
                        <div class="dialog-body">
                            <p>Are you sure you want to clear to select users?</p>
                            <p>:( (Delete as unrecoverable)</p>

                            <input type="button" class="button bg-main" value="clearall" onclick="javascript:clearall();" />
                        </div>
                    </div>
                </div>
            </div>
            <table class="table table-hover">
                <tr>
                    <th width="45">select</th>
                    <th width="120">Login account</th>
                    <th width="140">Real name</th>
                    <th width="140">Teacher gender</th>
                    <th width="140">contact way</th>
                    <th width="*">research field</th>
                    <th width="180">operate</th>
                </tr>
                <volist name="usrList" id="index">
                    <tr>
                        <td>
                            <input type="checkbox" name="id" value="{$index.thrId}" />
                        </td>
                        <td>{$index.thrName}</td>
                        <td>{$index.thrRealName}</td>
                        <td>
                            <?php echo $index['thrSex'] == 1 ? '男' : '女'; ?>
                        </td>
                        <td>{$index.thrPhone}</td>
                        <td>{$index.thrthrdy}</td>
                        <td>
                            <input name='thrid' type="hidden" value="{$index.thrId}" />
                            <a class="button border-blue button-little dialogs" name="recover" href="#" data-toggle="click" data-target="#recoverdialog" data-mask="1" data-width="30%">recover</a>
                            <a class="button border-yellow button-little dialogs" name="clear" href="#" data-toggle="click" data-target="#cleardialog" data-mask="1" data-width="30%">clear away</a>
                        </td>
                    </tr>
                </volist>
            </table>
            <div class="panel-foot text-center">
                page
            </div>
        </div>
    </form>
    <br />
    <p class="text-right text-gray">Based on<a class="text-gray" target="_blank" href="#">Team05</a>build </p>
</div>

<div id="cleardialog">
    <div class="dialog">
        <div class="dialog-head">
            <span class="close rotate-hover"></span>
            <strong>Teacher's operation</strong>
        </div>
        <div class="dialog-body">
            <div class="form-group">
                <p>Are you sure you want to clear this teacher?</p>
            </div>

            <input type="button" class="button bg-main" value="Delete" onclick="javascript:clearr();" />
            <button class="button bg-yellow" type="reset">Reject</button>
        </div>
    </div>
</div>
<div id="recoverdialog">
    <div class="dialog">
        <div class="dialog-head">
            <span class="close rotate-hover"></span>
            <strong>Teacher's operation</strong>
        </div>
        <div class="dialog-body">
            <div class="form-group">
                <p>Are you sure you want to restore this teacher?</p>
                <p>O(∩_∩)O~~(You can think about it)</p>
            </div>

            <input type="button" class="button bg-main" value="restore" onclick="javascript:recover();" />
            <button class="button bg-yellow" type="reset">Think again</button>
        </div>
    </div>
</div>

<script>
    var ID = null;

    function recover() {
        window.location.href = "{:U('Teacher/recoverOne/id/" + ID + "')}";
    }

    function clearr() {
        window.location.href = "{:U('Teacher/clearOne/id/" + ID + "')}";
    }

    $(function() {
        $(".table a[name='recover']").click(function() {
            ID = $(this).parent().find("input[name='thrid']").val();
        });

        $(".table a[name='clear']").click(function() {
            ID = $(this).parent().find("input[name='thrid']").val();
        });
    });
</script>